<html>
  <head>
    <title>Score counter</title>
    <link href="main.css" rel="stylesheet">
  </head>
  <body>
    <div>
      <form>
        <label for="format">Format</label>
        <input id="newCounterFormat" name="format" type="number">
        <label for="value">Value</label>
        <input id="newCounterValue" name="value" type="number">
      </form>
      <button id="addCounterBtn">Add Counter</button>
      <button id="delCounterBtn">Remove Counter</button>
    </div>
    <div id="score-1">
      <h1>Score 1: <span class="counter"></span></h1>
      <form>
        <button class="up">Up</button>
        <button class="down">Down</button>
        <button class="get">Get</button>
        <input class="value" type="number">
        <button class="set">Set</button>
        <button class="reset">Reset</button>
      </form>
    </div>
    <div id="score-2">
      <h1>Score 2: <span class="counter"></span></h1>
      <form>
        <button class="up">Up</button>
        <button class="down">Down</button>
        <button class="get">Get</button>
        <input class="value" type="number">
        <button class="set">Set</button>
        <button class="reset">Reset</button>
      </form>
    </div>
    <div id="score-3">
      <h1>Score 3: <span class="counter"></span></h1>
      <form>
        <button class="up">Up</button>
        <button class="down">Down</button>
        <button class="get">Get</button>
        <input class="value" type="number">
        <button class="set">Set</button>
        <button class="reset">Reset</button>
      </form>
    </div>
    <script src="score-counter.js"></script>
    <script src="score-ui.js"></script>
    <script src="counter-manager.js"></script>
    <script>
    var score1 = new ScoreUI(document.getElementById("score-1"), 1, 0);
    var score2 = new ScoreUI(document.getElementById("score-2"), 2, 10);
    var score3 = new ScoreUI(document.getElementById("score-3"), 4, 100);

    var counters=[];

    var newCounterFormat=document.getElementById("newCounterFormat");
    var newCounterValue=document.getElementById("newCounterValue");
    var addButton=document.getElementById("addCounterBtn");
    var delButton=document.getElementById("delCounterBtn");

    counters.push(score1);
    counters.push(score2);
    counters.push(score3);

    var counterManager=new CounterManager(counters);

    //prevent reloading page after click buttons in counters
    function changeButtonType(){
      var buttons=document.getElementsByTagName("button");
      for(var button of buttons){
        button.type="button";
      }
    }

    addButton.addEventListener("click", evt => {
      if (newCounterFormat.value=="" || newCounterValue.value=="") {
        alert("Please fill all fields")
      }
      else{
        counterManager.createCounter(newCounterFormat.value, newCounterValue.value);
        changeButtonType();
      }
    });

    delButton.addEventListener("click", evt => {
        counterManager.removeCounter();
    });

    document.addEventListener("DOMContentLoaded", evt => {
        changeButtonType();
    });
    </script>
  </body>
</html>
